<!DOCTYPE html>
<html>
<head>
  <title>GIO.G</title>

  <link rel="stylesheet" href="/static/vendor/nouislider@15.7.1/nouislider.min.css">
  <link rel="stylesheet" href="/static/css/styles.css">

  <script type="text/javascript" src="/static/vendor/konva@9.3.6/konva.min.js"></script>
  <script type="text/javascript" src="/static/vendor/tinyqueue@2.0.3/tinyqueue.min.js"></script>
  <script type="text/javascript" src="/static/vendor/polylabel@1.1.0/polylabel.js"></script>
  <script type="text/javascript" src="/static/vendor/nouislider@15.7.1/nouislider.min.js"></script>

</head>
<body>

<div id="navbar">

  <div id="navbar-admt-container">
    <div id="navbar-logos">
      <a href="https://db.cs.pitt.edu/"><img src="/static/assets/logos/admt.png" width="50" height="50" alt=""></a>
      <img src="/static/assets/logos/pitt.png" width="48" height="48" alt="">
    </div>
    <div id="navbar-admt-text">
      <span id="navbar-admt-title" class="navbar-text">ADMT Lab</span>
      <span id="navbar-copyright-text" class="navbar-text">Copyright © 2024</span>
    </div>
  </div>
  <div id="navbar-title-container" class="navbar-text"> 
    <div id="navbar-title-name">GIO.G</div>
    <div id="navbar-title-separator">:</div>
    <div id="navbar-title-expanded">Generator for Indoor-Outdoor Graphs</div>
  </div>
</div>

<div id="page">
  <div id="left-sidebar">

    <button class="accordion-button title accordion-active">Graph Generator</button>
    <div class="options-section">
      <div class="options-section-inner-container">
      <div id="config-form-container" class="options-form-container">

        <div class="options-category-container">
          <div class="subsubtitle">Number of Buildings:</div>
          <div class="options-input-container">
            <input type="text" id="num-buildings-input" name="num_buildings" required minlength="1" maxlength="8" size="10" value="25" placeholder="e.g. 25"
              oninput="this.value = this.value.replace(/\D/g, '');"/>
          </div>
        </div>

        <div class="options-category-container">
          <div class="subsubtitle">Grid Coverage:</div>
          <div class="options-input-container">
            <div class="options-slider-container">
              <input class="options-slider" type="range" id="coverage-input" name="coverage" min="0" max="1" step="0.01" value="0.75"/>
              <span id="coverage-value" class="options-slider-value"></span>
            </div>
          </div>
        </div>

        <div class="options-category-container">
          <div class="subsubtitle">Building Clustering:</div>
          <div class="options-input-container">
            <div class="options-slider-container">
              <input class="options-slider" type="range" id="clustering-input" name="clustering" min="0" max="0.5" step="0.01" value="0"/>
              <span id="clustering-value" class="options-slider-value"></span>
            </div>
          </div>
        </div>

        <div class="options-category-container">
          <span class="subsubtitle">Constant Congestion:</span>
          <span class="options-input-container">
            <span class="options-short-group">
              <input type="checkbox" id="constant-congestion-input" name="constant_con"/>
              <label for="constant-congestion-input">Enabled</label>
            </span>
          </span>
        </div>

        <div class="options-category-container">
          <div id="congestion-slider-label" class="subsubtitle">Congestion Levels:</div>
          
          <div class="options-input-container">
            <div id="congestion-slider-container">
              <div id="congestion-slider" disabled></div>
            </div>
            <div id="congestion-labels-values-container">
              <div class="congestion-value-container">
                <span>Low Congestion:</span>
                <span id="low-con-value" class="low-con-text-color"></span>
              </div>
              <div class="congestion-value-container">
                <span>Medium Congestion:</span>
                <span id="med-con-value" class="med-con-text-color"></span>
              </div>
              <div class="congestion-value-container">
                <span>High Congestion:</span>
                <span id="high-con-value" class="high-con-text-color"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="options-category-container">
          <button type="button" onclick="submit_config_form()">Submit</button>
        </div>
      </div>
      </div>
    </div>

    <button class="accordion-button title accordion-active">Path Recommendation</button>
    <div class="options-section">
      <div class="options-section-inner-container">
        <div id="path-gen-form-container" class="options-form-container">

          <div class="options-category-container">
            <div class="subsubtitle">Algorithms:</div>
            <div class="options-input-container">
              <input type="checkbox" id="path-gen-astro-cb" value="astro" checked>
              <label for="path-gen-astro-cb">Astro</label>
              <br>
              <input type="checkbox" id="path-gen-astrog-cb" value="astroG">
              <label for="path-gen-astrog-cb">Astro-G</label>
              <br>
              <input type="checkbox" id="path-gen-dijkstra-cb" value="dijkstra">
              <label for="path-gen-dijkstra-cb">Dijkstra</label>
              <br>
              <input type="checkbox" id="path-gen-dijkstra-con-cb" value="dijkstraC">
              <label for="path-gen-dijkstra-con-cb">Dijkstra-C</label>
              <br>
              <input type="checkbox" id="path-gen-greedy-cb" value="greedy">
              <label for="path-gen-greedy-cb">Greedy</label>
            </div>
          </div>  

          <div class="options-category-container">
            <span class="subsubtitle">Usable Doors:</span>
            <span class="options-input-container">
              <span class="options-short-group">
                <input type="radio" id="standard-input" name="accessibility-type" value="standard" checked>
                <label for="standard-input">All</label>
              </span>
              <span class="options-short-group">
                <input type="radio" id="accessibility-input" name="accessibility-type" value="accessible">
                <label for="accessibility-input">Accessible</label>
              </span>
            </span>
          </div>

          <div class="options-category-container">
            <span class="subsubtitle">Endpoints:</span>
            <div class="options-input-container">
              <span id="path-start-building-label" class="subsubtitle">Start:</span>
              <span id="path-start-building-info"></span>
              <button id="select-path-start-button" type="button" onclick="handle_select_start_building_button()">Select</button>
            </div>
            <div class="options-input-container">
              <span id="path-end-building-label" class="subsubtitle">End:</span>
              <span id="path-end-building-info"></span>
              <button id="select-path-end-button" type="button" onclick="handle_select_end_building_button()">Select</button>
            </div>
          </div>
          
          <div class="options-category-container">
            <button type="button" onclick="submit_path_gen_form()">Submit</button>
          </div>
        </div>
      </div>
    </div>

    <button class="accordion-button title">Manage Graph Data</button>
    <div class="options-section">
      <div class="options-section-inner-container">
        <div class="options-form-container">
          <div class="options-category-container">
            <div class="subsubtitle">Select Graph Preset:</div>
            <div class="options-input-container">
              <select id="preset-graph-select-input">
                <option value="" selected disabled hidden>Select Preset</option>
                <option value="graph_25_0.75.json">graph_25_0.75.json</option>
                <option value="graph_50_0.75.json">graph_50_0.75.json</option>
                <option value="graph_100_0.75.json">graph_100_0.75.json</option>
                <option value="graph_example_paths.json">graph_example_paths.json</option>
                <option value="in_order_graph.json">in_order_graph.json</option>
                <option value="true_random_graph.json">true_random_graph.json</option>
                <option value="graph_test.json">graph_test.json</option>
              </select>
            </div>
            <div class="options-input-container">
              <button type="button" onclick="submit_load_graph_preset()">Submit</button>
            </div>
          </div>

          <div class="options-category-container">
            <div class="subsubtitle">Import Graph:</div>
            <div class="options-input-container">
              <input id="import-graph-input" type="file"/>
            </div>
            <div class="options-input-container">
              <button type="button" onclick="submit_uploaded_graph()">Submit</button>
            </div>
          </div>

          <div class="options-category-container">
            <div class="subsubtitle">Export Graph:</div>
            <div class="options-input-container">
              <button type="button" onclick="download_graph_export()">Download</button>
              <span class="options-short-group">
                <input type="checkbox" id="export-pretty-cb">
                <label for="export-pretty-cb">Prettify</label>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="accordion-button title">Display Options</button>
    <div class="options-section">
      <div class="options-section-inner-container">
        <div class="options-form-container">
          
          <div class="options-category-container" id="display-options-buttons-container">
            <button type="button" onclick="handle_buildings_visible_button()">Toggle Buildings</button>
            <button type="button" onclick="handle_corridors_visible_button()">Toggle Corridors</button>
            <button type="button" onclick="handle_paths_visible_button()">Toggle Paths</button>
            <button type="button" onclick="handle_roads_visible_button()">Toggle All Roads</button>
            <button type="button" onclick="handle_removed_roads_visible_button()">Toggle Removed Roads</button>
            <button type="button" onclick="handle_congestion_colors_button()">Toggle Congestion Colors</button>
            <button type="button" onclick="handle_cell_highlights_visible_button()">Toggle Selection Highlight</button>
            <button type="button" onclick="handle_path_endpoint_visibility_button()">Toggle Path Endpoints</button>
          </div>
        </div>     
      </div>   
    </div>

    <button class="accordion-button title">Dev Options</button>
    <div class="options-section">
      <div class="options-section-inner-container">
        <div class="options-form-container">

          <div class="options-category-container">
            <button type="button" onclick="draw_manual_paths()">Test Path Drawing</button>
          </div>

          <div class="options-category-container">
            <button type="button" onclick="handle_clipping_visible_button()">Toggle Building Clipping</button>
          </div>

          <div class="options-category-container">
            <button type="button" onclick="handle_road_hiding_button()">Toggle Road Hiding</button>
          </div>
          <div class="options-category-container">
            <button type="button" onclick="handle_panning_toggle_button()">Toggle Panning</button>
          </div>
          <div class="options-category-container">
            <button type="button" onclick="handle_zooming_toggle_button()">Toggle Zooming</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div id="graph-stage-container">
    <div id="graph-stage"></div>
  </div>

  <div id="right-sidebar">

    <button class="accordion-button title accordion-active">Building Editor</button>
    <div class="options-section">
      <div class="options-section-inner-container">

          <div class="options-category-container">
            <div id="building-editor-stage-container">
              <div id="building-editor-stage"></div>
            </div>
          </div>
  
          <div id="selected-cell-info-controls-container" class="options-category-container">
            <div id="selected-cell-info-text-container"></div>
            <div id="selected-building-actions-container"></div>
          </div>
  
          <div id="selected-building-options-container" class="options-category-container"></div>
          <div id="selected-building-doors-container" class="options-category-container"></div>

      </div>
    </div>

    <button class="accordion-button title accordion-active">Path Legend</button>
    <div class="options-section">
      <div class="options-section-inner-container">
        <div id="graph-legend">
          <div id="graph-legend-display-title">Display</div>
          <div id="graph-legend-list">
            <div class="graph-legend-item">
              <span class="graph-legend-item-name col-1">Astro</span>
              <span id="solid-line" class="graph-legend-line col-2"></span>
              <span class="options-short-group graph-legend-item-cb-container col-3">
                <input type="checkbox" id="legend-display-astro-cb" checked>
              </span>
            </div>
            <div class="graph-legend-item">
              <span class="graph-legend-item-name col-1">Astro-G</span>
              <span id="dashed-line" class="graph-legend-line col-2"></span>
              <span class="options-short-group graph-legend-item-cb-container col-3">
                <input type="checkbox" id="legend-display-astrog-cb" checked>
              </span>
            </div>
            <div class="graph-legend-item">
              <span class="graph-legend-item-name col-1">Dijkstra</span>
              <span id="dotted-line" class="graph-legend-line col-2"></span>
              <span class="options-short-group graph-legend-item-cb-container col-3">
                <input type="checkbox" id="legend-display-dijkstra-cb" checked>
              </span>
            </div>
            <div class="graph-legend-item">
              <span class="graph-legend-item-name col-1">Dijkstra-C</span>
              <span id="dotdashed-line" class="graph-legend-line col-2"></span>
              <span class="options-short-group graph-legend-item-cb-container col-3">
                <input type="checkbox" id="legend-display-dijkstra-con-cb" checked>
              </span>
            </div>
            <div class="graph-legend-item">
              <span class="graph-legend-item-name col-1">Greedy</span>
              <span id="longdashed-line" class="graph-legend-line col-2"></span>
              <span class="options-short-group graph-legend-item-cb-container col-3">
                <input type="checkbox" id="legend-display-greedy-cb" checked>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="accordion-button title">Path Statistics</button>
    <div class="options-section">
      <div class="options-section-inner-container">
        <div class="options-category-container" id="stats-table-time-container"> 
          <div class="subtitle">Travel Time (seconds):</div>
          <table class="stats-table" id="stats-table-time">
            <tr class="stats-table-row">
              <th class="stats-table-header"></th>
              <th class="stats-table-header">Total</th>
              <th class="stats-table-header">Indoor</th>
              <th class="stats-table-header">Outdoor</th>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-time-astro">
              <td class="stats-table-cell stats-table-left-col">Astro</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-time-astrog">
              <td class="stats-table-cell stats-table-left-col">Astro-G</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-time-dijkstra">
              <td class="stats-table-cell stats-table-left-col">Dijkstra</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-time-dijkstrac">
              <td class="stats-table-cell stats-table-left-col">Dijkstra-C</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-time-greedy">
              <td class="stats-table-cell stats-table-left-col">Greedy</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
          </table> 
        </div>
        <div class="options-category-container" id="stats-table-con-container"> 
          <div class="subtitle">Congestion (# of people / m²):</div>
          <table class="stats-table" id="stats-table-con">
            <tr class="stats-table-row">
              <th class="stats-table-header"></th>
              <th class="stats-table-header">Avg</th>
              <th class="stats-table-header">Min</th>
              <th class="stats-table-header">Max</th>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-con-astro">
              <td class="stats-table-cell stats-table-left-col">Astro</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-con-astrog">
              <td class="stats-table-cell stats-table-left-col">Astro-G</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-con-dijkstra">
              <td class="stats-table-cell stats-table-left-col">Dijkstra</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-con-dijkstrac">
              <td class="stats-table-cell stats-table-left-col">Dijkstra-C</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
            <tr class="stats-table-row" id="stats-table-row-con-greedy">
              <td class="stats-table-cell stats-table-left-col">Greedy</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
              <td class="stats-table-cell">0.00</td>
            </tr>
          </table> 
        </div>
      </div>
    </div>
  </div>
</div>
  
<script type="text/javascript" src="static/js/building_editor.js"></script>
<script type="text/javascript" src="static/js/connections.js"></script>
<script type="text/javascript" src="static/js/coordinates.js"></script>
<script type="text/javascript" src="static/js/data_management.js"></script>
<script type="text/javascript" src="static/js/draw.js"></script>
<script type="text/javascript" src="static/js/generation.js"></script>
<script type="text/javascript" src="static/js/main_stage.js"></script>
<script type="text/javascript" src="static/js/math.js"></script>
<script type="text/javascript" src="static/js/page_controls.js"></script>
<script type="text/javascript" src="static/js/app.js"></script>
</body>
</html> 